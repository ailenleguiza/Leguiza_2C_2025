\doxysection{main/guia2\+\_\+ej2.c File Reference}
\hypertarget{guia2__ej2_8c}{}\label{guia2__ej2_8c}\index{main/guia2\_ej2.c@{main/guia2\_ej2.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}led.\+h"{}}\newline
{\ttfamily \#include "{}switch.\+h"{}}\newline
{\ttfamily \#include "{}math.\+h"{}}\newline
{\ttfamily \#include "{}gpio\+\_\+mcu.\+h"{}}\newline
{\ttfamily \#include "{}hc\+\_\+sr04.\+h"{}}\newline
{\ttfamily \#include "{}lcditse0803.\+h"{}}\newline
{\ttfamily \#include "{}timer\+\_\+mcu.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{guia2__ej2_8c_a8c0e695db9ea0899c79b9c5493827b70}{CONFIG\+\_\+\+BLINK\+\_\+\+PERIOD1}}~1000000
\begin{DoxyCompactList}\small\item\em Periodo de la interrupción del temporizador A en microsegundos. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{guia2__ej2_8c_a3df1b4cad09974bfc68858fad7cdc054}{CONFIG\+\_\+\+BLINK\+\_\+\+PERIOD}}~500000
\begin{DoxyCompactList}\small\item\em Periodo de la interrupción del temporizador B en microsegundos. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{guia2__ej2_8c_afaccfed84cd1498a05ea04a65f1209b1}{Func\+TimerA}} (void \texorpdfstring{$\ast$}{*}param)
\begin{DoxyCompactList}\small\item\em Función que se ejecuta en la interrupción del temporizador A. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_a5088c3325764095ca222dc78c328f466}{Func\+TimerB}} (void \texorpdfstring{$\ast$}{*}param)
\begin{DoxyCompactList}\small\item\em Función invocada en la interrupción del timer B. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_a99fb1c4e62e79c95fd7542235954f294}{Cambio\+Encendido}} ()
\begin{DoxyCompactList}\small\item\em Función que cambia el estado de la variable {\ttfamily encendido}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_a285de706a1d1fbd5d4f827260ae8f2de}{Cambio\+Hold}} ()
\begin{DoxyCompactList}\small\item\em Función que cambia el estado de la variable {\ttfamily hold}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_afbeb30f5a4e35e55d9e35358b572b5d0}{Leds}} ()
\begin{DoxyCompactList}\small\item\em Controla el estado de los LEDs en función de la distancia medida. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_acac7b6f1f6c6921d702063b349ad541d}{mostrar\+Distancia}} (void \texorpdfstring{$\ast$}{*}pv\+Parameter)
\begin{DoxyCompactList}\small\item\em Tarea de Free\+RTOS que muestra la distancia en la pantalla LCD y controla los LEDs. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{guia2__ej2_8c_a630544a7f0a2cc40d8a7fefab7e2fe70}{app\+\_\+main}} (void)
\begin{DoxyCompactList}\small\item\em Función principal que inicializa el sistema y las tareas de Free\+RTOS. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{guia2__ej2_8c_af0129e079b57e897edf00f22cc25f3d4}{hold}} = false
\begin{DoxyCompactList}\small\item\em Variable que indica si el sistema está en modo de encendido. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{guia2__ej2_8c_a5332d02d82dacdfb5c6dc01cb428b013}{encendido}} = true
\begin{DoxyCompactList}\small\item\em Variable que indica si la medición de distancia está activada. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{guia2__ej2_8c_aec40b15ff3098bdb2425eb4dc9c11a18}{distancia}} = 0
\begin{DoxyCompactList}\small\item\em Valor de distancia medida por el sensor HC-\/\+SR04. \end{DoxyCompactList}\item 
Task\+Handle\+\_\+t \mbox{\hyperlink{guia2__ej2_8c_ae39b1f9d63940785c267968dce470a67}{Mido}} = NULL
\begin{DoxyCompactList}\small\item\em Handle para la tarea de medición de distancia. \end{DoxyCompactList}\item 
Task\+Handle\+\_\+t \mbox{\hyperlink{guia2__ej2_8c_a317827d66169ff37a4679535d5c15028}{Muestro}} = NULL
\begin{DoxyCompactList}\small\item\em Handle para la tarea de muestra de distancia. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{guia2__ej2_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{guia2__ej2_8c_a3df1b4cad09974bfc68858fad7cdc054}\index{guia2\_ej2.c@{guia2\_ej2.c}!CONFIG\_BLINK\_PERIOD@{CONFIG\_BLINK\_PERIOD}}
\index{CONFIG\_BLINK\_PERIOD@{CONFIG\_BLINK\_PERIOD}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{CONFIG\_BLINK\_PERIOD}{CONFIG\_BLINK\_PERIOD}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a3df1b4cad09974bfc68858fad7cdc054} 
\#define CONFIG\+\_\+\+BLINK\+\_\+\+PERIOD~500000}



Periodo de la interrupción del temporizador B en microsegundos. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00056}{56}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a8c0e695db9ea0899c79b9c5493827b70}\index{guia2\_ej2.c@{guia2\_ej2.c}!CONFIG\_BLINK\_PERIOD1@{CONFIG\_BLINK\_PERIOD1}}
\index{CONFIG\_BLINK\_PERIOD1@{CONFIG\_BLINK\_PERIOD1}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{CONFIG\_BLINK\_PERIOD1}{CONFIG\_BLINK\_PERIOD1}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a8c0e695db9ea0899c79b9c5493827b70} 
\#define CONFIG\+\_\+\+BLINK\+\_\+\+PERIOD1~1000000}



Periodo de la interrupción del temporizador A en microsegundos. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00051}{51}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.



\label{doc-func-members}
\Hypertarget{guia2__ej2_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{guia2__ej2_8c_a630544a7f0a2cc40d8a7fefab7e2fe70}\index{guia2\_ej2.c@{guia2\_ej2.c}!app\_main@{app\_main}}
\index{app\_main@{app\_main}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{app\_main()}{app\_main()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a630544a7f0a2cc40d8a7fefab7e2fe70} 
void app\+\_\+main (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Función principal que inicializa el sistema y las tareas de Free\+RTOS. 

Esta función configura los LEDs, los interruptores, la pantalla LCD y el sensor HC-\/\+SR04. Luego crea las tareas de Free\+RTOS para medir la distancia y mostrar la distancia en la pantalla LCD. 

Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00215}{215}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a99fb1c4e62e79c95fd7542235954f294}\index{guia2\_ej2.c@{guia2\_ej2.c}!CambioEncendido@{CambioEncendido}}
\index{CambioEncendido@{CambioEncendido}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{CambioEncendido()}{CambioEncendido()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a99fb1c4e62e79c95fd7542235954f294} 
void Cambio\+Encendido (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Función que cambia el estado de la variable {\ttfamily encendido}. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00128}{128}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a285de706a1d1fbd5d4f827260ae8f2de}\index{guia2\_ej2.c@{guia2\_ej2.c}!CambioHold@{CambioHold}}
\index{CambioHold@{CambioHold}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{CambioHold()}{CambioHold()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a285de706a1d1fbd5d4f827260ae8f2de} 
void Cambio\+Hold (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Función que cambia el estado de la variable {\ttfamily hold}. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00137}{137}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_afaccfed84cd1498a05ea04a65f1209b1}\index{guia2\_ej2.c@{guia2\_ej2.c}!FuncTimerA@{FuncTimerA}}
\index{FuncTimerA@{FuncTimerA}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{FuncTimerA()}{FuncTimerA()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_afaccfed84cd1498a05ea04a65f1209b1} 
void Func\+TimerA (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{param}{}\end{DoxyParamCaption})}



Función que se ejecuta en la interrupción del temporizador A. 


\begin{DoxyParams}{Parameters}
{\em Parámetro} & opcional (no utilizado en esta función). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00090}{90}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a5088c3325764095ca222dc78c328f466}\index{guia2\_ej2.c@{guia2\_ej2.c}!FuncTimerB@{FuncTimerB}}
\index{FuncTimerB@{FuncTimerB}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{FuncTimerB()}{FuncTimerB()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a5088c3325764095ca222dc78c328f466} 
void Func\+TimerB (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{param}{}\end{DoxyParamCaption})}



Función invocada en la interrupción del timer B. 


\begin{DoxyParams}{Parameters}
{\em Parámetro} & opcional (no utilizado en esta función). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00098}{98}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_afbeb30f5a4e35e55d9e35358b572b5d0}\index{guia2\_ej2.c@{guia2\_ej2.c}!Leds@{Leds}}
\index{Leds@{Leds}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{Leds()}{Leds()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_afbeb30f5a4e35e55d9e35358b572b5d0} 
void Leds (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Controla el estado de los LEDs en función de la distancia medida. 

Esta función enciende o apaga los LEDs basándose en el valor de {\ttfamily distancia}. 

Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00148}{148}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_acac7b6f1f6c6921d702063b349ad541d}\index{guia2\_ej2.c@{guia2\_ej2.c}!mostrarDistancia@{mostrarDistancia}}
\index{mostrarDistancia@{mostrarDistancia}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{mostrarDistancia()}{mostrarDistancia()}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_acac7b6f1f6c6921d702063b349ad541d} 
void mostrar\+Distancia (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{pv\+Parameter}{}\end{DoxyParamCaption})}



Tarea de Free\+RTOS que muestra la distancia en la pantalla LCD y controla los LEDs. 

Esta función actualiza el estado de los LEDs y la pantalla LCD en función de la distancia medida y el estado de {\ttfamily encendido} y {\ttfamily hold}.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameter} & Parámetro opcional (no se utiliza en esta función). \\
\hline
\end{DoxyParams}
port\+MAX\+\_\+\+DELAY\+: espera indefinidamente hasta que llega una notificación

Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00187}{187}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.



\label{doc-var-members}
\Hypertarget{guia2__ej2_8c_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{guia2__ej2_8c_aec40b15ff3098bdb2425eb4dc9c11a18}\index{guia2\_ej2.c@{guia2\_ej2.c}!distancia@{distancia}}
\index{distancia@{distancia}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{distancia}{distancia}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_aec40b15ff3098bdb2425eb4dc9c11a18} 
uint16\+\_\+t distancia = 0}



Valor de distancia medida por el sensor HC-\/\+SR04. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00072}{72}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a5332d02d82dacdfb5c6dc01cb428b013}\index{guia2\_ej2.c@{guia2\_ej2.c}!encendido@{encendido}}
\index{encendido@{encendido}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{encendido}{encendido}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a5332d02d82dacdfb5c6dc01cb428b013} 
bool encendido = true}



Variable que indica si la medición de distancia está activada. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00067}{67}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_af0129e079b57e897edf00f22cc25f3d4}\index{guia2\_ej2.c@{guia2\_ej2.c}!hold@{hold}}
\index{hold@{hold}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{hold}{hold}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_af0129e079b57e897edf00f22cc25f3d4} 
bool hold = false}



Variable que indica si el sistema está en modo de encendido. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00062}{62}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_ae39b1f9d63940785c267968dce470a67}\index{guia2\_ej2.c@{guia2\_ej2.c}!Mido@{Mido}}
\index{Mido@{Mido}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{Mido}{Mido}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_ae39b1f9d63940785c267968dce470a67} 
Task\+Handle\+\_\+t Mido = NULL}



Handle para la tarea de medición de distancia. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00077}{77}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

\Hypertarget{guia2__ej2_8c_a317827d66169ff37a4679535d5c15028}\index{guia2\_ej2.c@{guia2\_ej2.c}!Muestro@{Muestro}}
\index{Muestro@{Muestro}!guia2\_ej2.c@{guia2\_ej2.c}}
\doxysubsubsection{\texorpdfstring{Muestro}{Muestro}}
{\footnotesize\ttfamily \label{guia2__ej2_8c_a317827d66169ff37a4679535d5c15028} 
Task\+Handle\+\_\+t Muestro = NULL}



Handle para la tarea de muestra de distancia. 



Definition at line \mbox{\hyperlink{guia2__ej2_8c_source_l00082}{82}} of file \mbox{\hyperlink{guia2__ej2_8c_source}{guia2\+\_\+ej2.\+c}}.

